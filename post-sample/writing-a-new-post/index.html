<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <meta http-equiv="Cache-Control" content="max-age=3600, must-revalidate">
        <meta http-equiv="Pragma" content="no-cache">
        <meta http-equiv="Expires" content="-1">

        <title>Writing a New Post | BLOG</title>
        <meta name="title" content="Writing a New Post | BLOG">
        <meta name="description" content="Helping others with useful content">
        <meta name="keywords" content="samples,writing,digitalization,business,management,agile,software,softwareengineering,softwarearchitecture,programming">
        <meta name="author" content="cotes">
        <meta name="robots" content="index, follow">

        <link rel="canonical" href="https://blog.domain.com/post-sample/writing-a-new-post/">
        <link rel="shortcut icon" type="image/png" href="/jamstack-eleventy-custom/assets/logo.ico">
        
        <link rel="preconnect" href="cdnjs.cloudflare.com">
        <link rel="dns-prefetch" href="cdnjs.cloudflare.com">

        <link rel="preconnect" href="cdn.jsdelivr.net">
        <link rel="dns-prefetch" href="cdn.jsdelivr.net">

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A==" crossorigin="anonymous" referrerpolicy="no-referrer" />

        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.2.2/js/bootstrap.bundle.min.js" integrity="sha512-BOsvKbLb0dB1IVplOL9ptU1EYA+LuCKEluZWRUYG73hxqNBU85JBIBhPGwhQl7O633KtkjMv8lvxZcWP+N3V3w==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        
        <script src="/jamstack-eleventy-custom/assets/js/custom/clipboard-copy.js"></script>

        <script src="https://cdn.jsdelivr.net/npm/ejs@3.1.6/ejs.min.js" integrity="sha256-mOsgtygNfXBUPc/+cc19yr+g0jieqYOgRL5xFD2sC0Y=" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.9/lunr.min.js" integrity="sha512-4xUl/d6D6THrAnXAwGajXkoWaeMNwEKK4iNfq5DotEbLPAfk6FSxSP3ydNxqDgCw1c/0Z1Jg6L8h2j+++9BZmg==" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/he/1.2.0/he.min.js" integrity="sha512-PEsccDx9jqX6Dh4wZDCnWMaIO3gAaU0j46W//sSqQhUQxky6/eHZyeB3NrXD2xsyugAKd4KPiDANkcuoEa2JuA==" crossorigin="anonymous"></script>
        
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-okaidia.min.css" integrity="sha512-mIs9kKbaw6JZFfSuo+MovjU+Ntggfoj8RwAmJbVXQ5mkAX5LlgETQEweFPI18humSPHymTb5iikEOKWF7I8ncQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />

        <link rel="stylesheet" href="/jamstack-eleventy-custom/assets/css/main.css" />

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jarallax@2.0.4/dist/jarallax.css" integrity="sha256-/a0I9OFWuIXZRhqSuqIj8g0NUYSID+mwuyOuuFZb12A=" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/jarallax@2.0.4/dist/jarallax.min.js" integrity="sha256-uCknJLYMrtYTPwl8PwQnFj6T6Hck2oSGEZLhMi1BRvU=" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/jarallax@2.0.4/dist/jarallax-video.min.js" integrity="sha256-zYuE44YyKYv3Y4xv38UkxBY4jFCzAmAxwJ2nfRj16WI=" crossorigin="anonymous"></script>
        <script>
            function InitParallax() {
                jarallax(document.querySelectorAll('.jarallax'), {
                    speed: 0.2, 
                    disableVideo: /iPad|iPhone|iPod|Android/
                });
            }
        </script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/typed.js/2.0.12/typed.min.js" integrity="sha512-3J8teBiHrSyaaRBajZyIEtpDsXdPq1gsznKWIVb5CnorQuFhjWGhWe54z8YNnHHr7MZuExb9m5kvf964HiT1Sw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script>
            function InitTyped() {
                // sample:
                // <span class="text-success">ever created for
                //   <span data-typed='{"strings": ["developers.", "founders.", "designers."]}'></span>
                //   <span class="typed-cursor typed-cursor--blink" aria-hidden="true">|</span>
                // </span>
                document.querySelectorAll("[data-typed]").forEach(e => {
                    const t = {
                        typeSpeed: 40,
                        backSpeed: 10,
                        backDelay: 2e3,
                        loop: true,
                        replaceBaseText : true, /* future feature */
                        autoInsertCss: true,
                        ...e.dataset.typed ? JSON.parse(e.dataset.typed) : {}
                    };

                    var typed = new Typed(e, t);
                });
            }         
        </script>

        
        <script src="https://cdn.jsdelivr.net/npm/wowjs@1.1.3/dist/wow.min.js" integrity="sha256-gHiUEskgBO+3ccSDRM+c5+nEwTGp64R99KYPfITpnuo=" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" integrity="sha256-X7rrn44l1+AUO65h1LGALBbOc5C5bOstSYsNlv9MhT8=" crossorigin="anonymous">
        <script>
            function InitAOS() {
                new WOW({ animateClass: 'animate__animated' }).init();
            }
        </script>

        <script src="https://cdn.jsdelivr.net/npm/@srexi/purecounterjs/dist/purecounter_vanilla.js"></script>
        <script>
            function InitCounters() {
                new PureCounter();
            }
        </script>
        
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.2.0/dist/css/glightbox.min.css" integrity="sha256-bT9i1NF5afnHDpQ4z2cQBHJQGehoEj8uvClaAG+NXS0=" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/glightbox@3.2.0/dist/js/glightbox.min.js" integrity="sha256-A9/h+86SqfF/zRoVASE72CDQUKsIXDOEGasGo2MclFk=" crossorigin="anonymous"></script>
        <script>
            function InitLightbox() {
                GLightbox({});
            }
        </script>

        
    </head>
    <body class="fit-height">

        <header class="sticky-top">
            <nav id="navbar-main" class="navbar-main navbar navbar-expand-lg">

    <div class="container">

        <a class="navbar-brand d-flex align-items-center" href="/">
            <img src="/jamstack-eleventy-custom/assets/logo.png" />
        </a>

        <div class="ms-auto mx-2"></div>

        <!-- standalone search bar activator (below navigation) -->
        <a type="button" role="button" class="btn border-0 me-2 d-lg-none"
            data-bs-toggle="collapse" data-bs-target="#blog-search-bar">
            <!-- d-sm-none = hide if above sm -->
            <i class="fa-solid fa-magnifying-glass"></i>
        </a>

        <button type="button" class="btn navbar-toggler"
            data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown"
            aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
            <!-- Using navbar-toggler fix in main.scss and FA icons instead of: <span class="navbar-toggler-icon"></span> -->
            <i class="fa-solid fa-bars"></i>
        </button>

        <div class="collapse navbar-collapse" id="navbarNavDropdown">

            <ul class="navbar-nav d-flex flex-row flex-wrap align-items-center bd-navbar-nav pt-2 py-sm-0 px-5 w-100">

                <li class="nav-item col-6 col-lg-auto">
                    <a class="nav-link default p-2" href="/jamstack-eleventy-custom/">Home</a>
                </li>

                <div class="ms-auto mx-2"></div>

                <li class="nav-item dropdown col-12 col-lg-auto">
                    <hr class="d-block d-lg-none" />
                    <a class="d-inline-flex nav-link p-2" href="/jamstack-eleventy-custom/posts/1/">Posts</a>
                    <a class="d-inline-flex nav-link no-dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-bs-hover="dropdown" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="fa-solid fa-angles-down"></i>
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                        <li><a class="dropdown-item" href="/jamstack-eleventy-custom/tags">Tags</a></li>
                        <li><a class="dropdown-item" href="/jamstack-eleventy-custom/categories">Categories</a></li>
                        <li><a class="dropdown-item" href="/jamstack-eleventy-custom/series">Series</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="/jamstack-eleventy-custom/tags-cloud">Tags cloud</a></li>
                    </ul>
                </li>      

            </ul>

        </div>

        <!-- inline search-bar with same expand breakpoint as navigation -->
        <nav class="nav-search d-none d-lg-inline">
            <!-- hidden by def., visible (block) aft. size SM -->
            <div class="inline-input-group inline-text-right">
                <span class="inline-text"><i class="fa-solid fa-magnifying-glass"></i></span>
                <input type="text" class="blog-search-input form-control py-0" placeholder="Search...">
            </div>
        </nav>

    </div>

</nav>

<!-- 
standalone search bar (below navigation) with same breakpoint as navigation (shown on collapse)
d-sm-none = hide if above sm
-->
<nav class="nav-search-below d-lg-none collapse" id="blog-search-bar">
    <div class="container">
        <div class="p-3">
            <div class="inline-input-group inline-text-left">
                <span class="inline-text"><i class="fa-solid fa-magnifying-glass"></i></span>
                <input type="text" class="blog-search-input form-control" placeholder="Search...">
            </div>
        </div>
    </div>
</nav>
        </header>

        <main>
            
            

    <div class="layout layout-post">

        <div class="main-container container">

            <div class="hide-on-search-results-container-display row row">

                <div class="main-content-header col-12">
                    
                </div>

                <div class="main-content col-12 col-xl-9 overflow-hidden">
                    

    
    
    
    <section class="p-3 px-lg-5 d-flex d-flex justify-content-between align-items-center d-hide-if-empty">
        

<section class="share-wrapper">
    <span class="share-label text-muted mr-1">Share post</span>
    <span class="share-icons">
        
               
        
            
                
                <a  href="https://www.linkedin.com/sharing/share-offsite/?url=/post-sample/writing-a-new-post/"
                    data-toggle="tooltip"
                    data-placement="top"
                    title="LinkedIn"
                    target="_blank" rel="noopener"
                    aria-label="LinkedIn"
                    >
                    <i class="fa-fw fa-brands fa-linkedin fa-fw"></i>
                </a>
            
        
            
        
            
                
                <a  href="https://twitter.com/intent/tweet?text=Share post&amp;url=/post-sample/writing-a-new-post/"
                    data-toggle="tooltip"
                    data-placement="top"
                    title="Twitter"
                    target="_blank" rel="noopener"
                    aria-label="Twitter"
                    >
                    <i class="fa-fw fa-brands fa-square-twitter fa-fw"></i>
                </a>
            
        
            
        
            
        
            
        
        
        <i class="fa-solid fa-link fa-fw small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i>
    </span>
</section>

<script>
    function copyLink(url) {

        if (!url || 0 === url.length)
            url = window.location.href;

        ClipboardCopy.copy(
            url,
            () => { alert("Link copied successfully!"); },
            (err) => { alert("Link copy failed! Error: ", err); },
        );
    }
</script>


    </section>
    
    <section class="article print-container p-3 px-lg-5 mb-3">

        <section>
            <h1>Writing a New Post</h1>
            
        </section>
    
        <section class="small">
            <div class="row row-cols-auto gx-3">
                <div class="col"><i class="fa-solid fa-calendar-days fa-fw"></i>08 Aug 2019</div>
                <div class="col"><i class="fa-regular fa-user fa-fw"></i>cotes</div>
                <div class="col"><i class="fa-solid fa-stopwatch fa-fw"></i> 5 min reading time</div>
            </div>
        </section>

        <section class="small text-muted d-flex gap-3">
<div class="d-flex">
    <div class="d-inline-block me-1">
        <a href="/jamstack-eleventy-custom/categories"><i class="far fa-fw fa-folder-open"></i></a>
    </div>
    <div class="d-inline-block">
        
        
        <a href="/jamstack-eleventy-custom/category/samples/jekyll-chirpy/1/" class="me-1">
                
            Samples
                
             - Jekyll-Chirpy
            
        </a>
        
    </div>
</div>

<div class="d-flex">
    <div class="d-inline-block me-1">
        <a href="/jamstack-eleventy-custom/tags"><i class="fa-solid fa-tags fa-fw"></i></a>
    </div>
    <div class="d-inline-block">
        
        <a href="/jamstack-eleventy-custom/tag/samples/1/" class="me-1">samples</a>
        
        <a href="/jamstack-eleventy-custom/tag/writing/1/" class="me-1">writing</a>
        
    </div>
</div>
</section>

        <hr/>

        <section class="pb-3">
            
            <p>This post will guide you how to write a post on <em>Chirpy</em> theme. Even if you have previous experience with Jekyll, this article is worth reading, because many features require specific variables to be set.</p>
<h2 id="naming-and-path" tabindex="-1">Naming and Path</h2>
<p>Create a new file named <code>YYYY-MM-DD-TITLE.EXTENSION</code>{: .filepath} and put it in the <code>_posts</code>{: .filepath} of the root directory. Please note that the <code>EXTENSION</code>{: .filepath} must be one of <code>md</code>{: .filepath} and <code>markdown</code>{: .filepath}. If you want to save time of creating files, please consider using the plugin <a href="https://github.com/jekyll/jekyll-compose"><code>Jekyll-Compose</code></a> to accomplish this.</p>
<h2 id="front-matter" tabindex="-1">Front Matter</h2>
<p>Basically, you need to fill the <a href="https://jekyllrb.com/docs/front-matter/">Front Matter</a> as below at the top of the post:</p>
<pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">title</span><span class="token punctuation">:</span> TITLE<br><span class="token key atrule">date</span><span class="token punctuation">:</span> YYYY<span class="token punctuation">-</span>MM<span class="token punctuation">-</span>DD HH<span class="token punctuation">:</span>MM<span class="token punctuation">:</span>SS +/<span class="token punctuation">-</span>TTTT<br><span class="token key atrule">categories</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>TOP_CATEGORIE<span class="token punctuation">,</span> SUB_CATEGORIE<span class="token punctuation">]</span><br><span class="token key atrule">tags</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>TAG<span class="token punctuation">]</span>     <span class="token comment"># TAG names should always be lowercase</span><br><span class="token punctuation">---</span></code></pre>
<blockquote>
<p>The posts’ <em>layout</em> has been set to <code>post</code> by default, so there is no need to add the variable <em>layout</em> in the Front Matter block.
{: .prompt-tip }</p>
</blockquote>
<h3 id="timezone-of-date" tabindex="-1">Timezone of Date</h3>
<p>In order to accurately record the release date of a post, you should not only set up the <code>timezone</code> of <code>_config.yml</code>{: .filepath} but also provide the post’s timezone in variable <code>date</code> of its Front Matter block. Format: <code>+/-TTTT</code>, e.g. <code>+0800</code>.</p>
<h3 id="categories-and-tags" tabindex="-1">Categories and Tags</h3>
<p>The <code>categories</code> of each post are designed to contain up to two elements, and the number of elements in <code>tags</code> can be zero to infinity. For instance:</p>
<pre class="language-yaml"><code class="language-yaml"><span class="token punctuation">---</span><br><span class="token key atrule">categories</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>Animal<span class="token punctuation">,</span> Insect<span class="token punctuation">]</span><br><span class="token key atrule">tags</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>bee<span class="token punctuation">]</span><br><span class="token punctuation">---</span></code></pre>
<h3 id="author-information" tabindex="-1">Author Information</h3>
<p>The author information of the post usually does not need to be filled in the <em>Front Matter</em> , they will be obtained from variables <code>social.name</code> and the first entry of <code>social.links</code> of the configuration file by default. But you can also override it as follows:</p>
<p>Adding author information in <code>_data/authors.yml</code> (If your website doesn’t have this file, don’t hesitate to create one).</p>
<pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">&lt;author_id></span><span class="token punctuation">:</span><br>  <span class="token key atrule">name</span><span class="token punctuation">:</span> &lt;full name<span class="token punctuation">></span><br>  <span class="token key atrule">twitter</span><span class="token punctuation">:</span> &lt;twitter_of_author<span class="token punctuation">></span><br>  <span class="token key atrule">url</span><span class="token punctuation">:</span> &lt;homepage_of_author<span class="token punctuation">></span></code></pre>
<p>{: file=“_data/authors.yml” }</p>
<p>And then use <code>author</code> to specify a single entry or <code>authors</code> to specify multiple entries:</p>
<pre class="language-yaml"><code class="language-yaml"><span class="token punctuation">---</span><br><span class="token key atrule">author</span><span class="token punctuation">:</span> &lt;author_id<span class="token punctuation">></span>                     <span class="token comment"># for single entry</span><br><span class="token comment"># or</span><br><span class="token key atrule">authors</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>&lt;author1_id<span class="token punctuation">></span><span class="token punctuation">,</span> &lt;author2_id<span class="token punctuation">></span><span class="token punctuation">]</span>   <span class="token comment"># for multiple entries</span><br><span class="token punctuation">---</span></code></pre>
<p>Having said that, the key <code>author</code> can also identify multiple entries.</p>
<blockquote>
<p>The benefit of reading the author information from the file <code>_data/authors.yml</code>{: .filepath } is that the page will have the meta tag <code>twitter:creator</code>, which enriches the <a href="https://developer.twitter.com/en/docs/twitter-for-websites/cards/guides/getting-started#card-and-content-attribution">Twitter Cards</a> and is good for SEO.
{: .prompt-info }</p>
</blockquote>
<h2 id="table-of-contents" tabindex="-1">Table of Contents</h2>
<p>By default, the <strong>T</strong>able <strong>o</strong>f <strong>C</strong>ontents (TOC) is displayed on the right panel of the post. If you want to turn it off globally, go to <code>_config.yml</code>{: .filepath} and set the value of variable <code>toc</code> to <code>false</code>. If you want to turn off TOC for a specific post, add the following to the post’s <a href="https://jekyllrb.com/docs/front-matter/">Front Matter</a>:</p>
<pre class="language-yaml"><code class="language-yaml"><span class="token punctuation">---</span><br><span class="token key atrule">toc</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><br><span class="token punctuation">---</span></code></pre>
<h2 id="comments" tabindex="-1">Comments</h2>
<p>The global switch of comments is defined by variable <code>comments.active</code> in the file <code>_config.yml</code>{: .filepath}. After selecting a comment system for this variable, comments will be turned on for all posts.</p>
<p>If you want to close the comment for a specific post, add the following to the <strong>Front Matter</strong> of the post:</p>
<pre class="language-yaml"><code class="language-yaml"><span class="token punctuation">---</span><br><span class="token key atrule">comments</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><br><span class="token punctuation">---</span></code></pre>
<h2 id="mathematics" tabindex="-1">Mathematics</h2>
<p>For website performance reasons, the mathematical feature won’t be loaded by default. But it can be enabled by:</p>
<pre class="language-yaml"><code class="language-yaml"><span class="token punctuation">---</span><br><span class="token key atrule">math</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><br><span class="token punctuation">---</span></code></pre>
<h2 id="mermaid" tabindex="-1">Mermaid</h2>
<p><a href="https://github.com/mermaid-js/mermaid"><strong>Mermaid</strong></a> is a great diagrams generation tool. To enable it on your post, add the following to the YAML block:</p>
<pre class="language-yaml"><code class="language-yaml"><span class="token punctuation">---</span><br><span class="token key atrule">mermaid</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><br><span class="token punctuation">---</span></code></pre>
<p>Then you can use it like other markdown languages: surround the graph code with <code>```mermaid</code> and <code>```</code>.</p>
<h2 id="images" tabindex="-1">Images</h2>
<h3 id="caption" tabindex="-1">Caption</h3>
<p>Add italics to the next line of an image，then it will become the caption and appear at the bottom of the image:</p>
<pre class="language-markdown"><code class="language-markdown"><span class="token url"><span class="token operator">!</span>[<span class="token content">img-description</span>](<span class="token url">/path/to/image</span>)</span><br><span class="token italic"><span class="token punctuation">_</span><span class="token content">Image Caption</span><span class="token punctuation">_</span></span></code></pre>
<p>{: .nolineno}</p>
<h3 id="size" tabindex="-1">Size</h3>
<p>In order to prevent the page content layout from shifting when the image is loaded, we should set the width and height for each image:</p>
<pre class="language-markdown"><code class="language-markdown"><span class="token url"><span class="token operator">!</span>[<span class="token content">Desktop View</span>](<span class="token url">/assets/img/sample/mockup.png</span>)</span>{: width="700" height="400" }</code></pre>
<p>{: .nolineno}</p>
<p>Starting from <em>Chirpy v5.0.0</em>, <code>height</code> and <code>width</code> support abbreviations (<code>height</code> → <code>h</code>, <code>width</code> → <code>w</code>). The following example has the same effect as the above:</p>
<pre class="language-markdown"><code class="language-markdown"><span class="token url"><span class="token operator">!</span>[<span class="token content">Desktop View</span>](<span class="token url">/assets/img/sample/mockup.png</span>)</span>{: w="700" h="400" }</code></pre>
<p>{: .nolineno}</p>
<h3 id="position" tabindex="-1">Position</h3>
<p>By default, the image is centered, but you can specify the position by using one of the classes <code>normal</code>, <code>left</code>, and <code>right</code>.</p>
<blockquote>
<p>Once the position is specified, the image caption should not be added.
{: .prompt-warning }</p>
</blockquote>
<ul>
<li>
<p><strong>Normal position</strong></p>
<p>Image will be left aligned in below sample:</p>
<pre class="language-markdown"><code class="language-markdown"><span class="token url"><span class="token operator">!</span>[<span class="token content">Desktop View</span>](<span class="token url">/assets/img/sample/mockup.png</span>)</span>{: .normal }</code></pre>
<p>{: .nolineno}</p>
</li>
<li>
<p><strong>Float to the left</strong></p>
<pre class="language-markdown"><code class="language-markdown"><span class="token url"><span class="token operator">!</span>[<span class="token content">Desktop View</span>](<span class="token url">/assets/img/sample/mockup.png</span>)</span>{: .left }</code></pre>
<p>{: .nolineno}</p>
</li>
<li>
<p><strong>Float to the right</strong></p>
<pre class="language-markdown"><code class="language-markdown"><span class="token url"><span class="token operator">!</span>[<span class="token content">Desktop View</span>](<span class="token url">/assets/img/sample/mockup.png</span>)</span>{: .right }</code></pre>
<p>{: .nolineno}</p>
</li>
</ul>
<h3 id="shadow" tabindex="-1">Shadow</h3>
<p>The screenshots of the program window can be considered to show the shadow effect, and the shadow will be visible in the <code>light</code> mode:</p>
<pre class="language-markdown"><code class="language-markdown"><span class="token url"><span class="token operator">!</span>[<span class="token content">Desktop View</span>](<span class="token url">/assets/img/sample/mockup.png</span>)</span>{: .shadow }</code></pre>
<p>{: .nolineno}</p>
<h3 id="cdn-url" tabindex="-1">CDN URL</h3>
<p>If you host the images on the CDN, you can save the time of repeatedly writing the CDN URL by assigning the variable <code>img_cdn</code> of <code>_config.yml</code>{: .filepath} file:</p>
<pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">img_cdn</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//cdn.com</code></pre>
<p>{: file=‘_config.yml’ .nolineno}</p>
<p>Once <code>img_cdn</code> is assigned, the CDN URL will be added to the path of all images (images of site avatar and posts) starting with <code>/</code>.</p>
<p>For instance, when using images:</p>
<pre class="language-markdown"><code class="language-markdown"><span class="token url"><span class="token operator">!</span>[<span class="token content">The flower</span>](<span class="token url">/path/to/flower.png</span>)</span></code></pre>
<p>{: .nolineno}</p>
<p>The parsing result will automatically add the CDN prefix <code>https://cdn.com</code> before the image path:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://cdn.com/path/to/flower.png<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>The flower<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre>
<p>{: .nolineno}</p>
<h3 id="image-path" tabindex="-1">Image Path</h3>
<p>When a post contains many images, it will be a time-consuming task to repeatedly define the path of the images. To solve this, we can define this path in the YAML block of the post:</p>
<pre class="language-yml"><code class="language-yml"><span class="token punctuation">---</span><br><span class="token key atrule">img_path</span><span class="token punctuation">:</span> /img/path/<br><span class="token punctuation">---</span></code></pre>
<p>{: .nolineno }</p>
<p>And then, the image source of Markdown can write the file name directly:</p>
<pre class="language-md"><code class="language-md"><span class="token url"><span class="token operator">!</span>[<span class="token content">The flower</span>](<span class="token url">flower.png</span>)</span></code></pre>
<p>{: .nolineno }</p>
<p>The output will be:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/img/path/flower.png<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>The flower<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre>
<p>{: .nolineno }</p>
<h3 id="preview-image" tabindex="-1">Preview Image</h3>
<p>If you want to add an image to the top of the post contents, specify the attribute <code>path</code>, <code>width</code>, <code>height</code>, and <code>alt</code> for the image:</p>
<pre class="language-yaml"><code class="language-yaml"><span class="token punctuation">---</span><br><span class="token key atrule">image</span><span class="token punctuation">:</span><br>  <span class="token key atrule">path</span><span class="token punctuation">:</span> /path/to/image<br>  <span class="token key atrule">width</span><span class="token punctuation">:</span> <span class="token number">1000</span>   <span class="token comment"># in pixels</span><br>  <span class="token key atrule">height</span><span class="token punctuation">:</span> <span class="token number">400</span>   <span class="token comment"># in pixels</span><br>  <span class="token key atrule">alt</span><span class="token punctuation">:</span> image alternative text<br><span class="token punctuation">---</span></code></pre>
<p>Except for <code>alt</code>, all other options are necessary, especially the <code>width</code> and <code>height</code>, which are related to user experience and web page loading performance. The above section “<a href="#size">Size</a>” also mentions this.</p>
<p>Starting from <em>Chirpy v5.0.0</em>, the attributes <code>height</code> and <code>width</code> can be abbreviated: <code>height</code> → <code>h</code>, <code>width</code> → <code>w</code>. In addition, the <a href="#image-path"><code>img_path</code></a> can also be passed to the preview image, that is, when it has been set, the  attribute <code>path</code> only needs the image file name.</p>
<p>For simple use, you can also just use <code>image</code> to define the path.</p>
<pre class="language-yml"><code class="language-yml"><span class="token key atrule">image</span><span class="token punctuation">:</span> /path/to/image</code></pre>
<h2 id="pinned-posts" tabindex="-1">Pinned Posts</h2>
<p>You can pin one or more posts to the top of the home page, and the fixed posts are sorted in reverse order according to their release date. Enable by:</p>
<pre class="language-yaml"><code class="language-yaml"><span class="token punctuation">---</span><br><span class="token key atrule">pin</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><br><span class="token punctuation">---</span></code></pre>
<h2 id="prompts" tabindex="-1">Prompts</h2>
<p>There are several types of prompts: <code>tip</code>, <code>info</code>, <code>warning</code>, and <code>danger</code>. They can be generated by adding the class <code>prompt-{type}</code> to the blockquote. For example, define a prompt of type <code>info</code> as follows:</p>
<pre class="language-md"><code class="language-md"><span class="token blockquote punctuation">></span> Example line for prompt.<br>{: .prompt-info }</code></pre>
<p>{: .nolineno }</p>
<h2 id="syntax" tabindex="-1">Syntax</h2>
<h3 id="inline-code" tabindex="-1">Inline Code</h3>
<pre class="language-md"><code class="language-md"><span class="token code-snippet code keyword">`inline code part`</span></code></pre>
<p>{: .nolineno }</p>
<h3 id="filepath-hightlight" tabindex="-1">Filepath Hightlight</h3>
<pre class="language-md"><code class="language-md"><span class="token code-snippet code keyword">`/path/to/a/file.extend`</span>{: .filepath}</code></pre>
<p>{: .nolineno }</p>
<h3 id="code-block" tabindex="-1">Code Block</h3>
<p>Markdown symbols <code>```</code> can easily create a code block as follows:</p>
<pre class="language-md"><code class="language-md"><span class="token code"><span class="token punctuation">```</span><br><span class="token code-block">This is a plaintext code snippet.</span><br><span class="token punctuation">```</span></span></code></pre>
<h4 id="specifying-language" tabindex="-1">Specifying Language</h4>
<p>Using <code>```{language}</code> you will get a code block with syntax highlight:</p>
<pre class="language-markdown"><code class="language-markdown"><span class="token code"><span class="token punctuation">```</span><span class="token code-language">yaml</span><br><span class="token code-block language-yaml"><span class="token key atrule">key</span><span class="token punctuation">:</span> value</span><br><span class="token punctuation">```</span></span></code></pre>
<h4 id="line-number" tabindex="-1">Line Number</h4>
<p>By default, all languages except <code>plaintext</code>, <code>console</code>, and <code>terminal</code> will display line numbers. When you want to hide the line number of a code block, add the class <code>nolineno</code> to it:</p>
<pre class="language-markdown"><code class="language-markdown"><span class="token code"><span class="token punctuation">```</span><span class="token code-language">shell</span><br><span class="token code-block language-shell"><span class="token builtin class-name">echo</span> <span class="token string">'No more line numbers!'</span></span><br><span class="token punctuation">```</span></span><br>{: .nolineno }</code></pre>
<h4 id="specifying-the-filename" tabindex="-1">Specifying the Filename</h4>
<p>You may have noticed that the code language will be displayed at the top of the code block. If you want to replace it with the file name, you can add the attribute <code>file</code> to achieve this:</p>
<pre class="language-markdown"><code class="language-markdown"><span class="token code"><span class="token punctuation">```</span><span class="token code-language">shell</span><br><span class="token code-block language-shell"><span class="token comment"># content</span></span><br><span class="token punctuation">```</span></span><br>{: file="path/to/file" }</code></pre>
<h4 id="liquid-codes" tabindex="-1">Liquid Codes</h4>
<p>If you want to display the <strong>Liquid</strong> snippet, surround the liquid code with <code>and</code>:</p>
<pre class="language-markdown"><code class="language-markdown"><br><span class="token code"><span class="token punctuation">```</span><span class="token code-language">liquid</span><br><span class="token code-block language-liquid">{% if product.title contains 'Pack' %}<br>  This product's title contains the word Pack.<br>{% endif %}</span><br><span class="token punctuation">```</span></span><br></code></pre>
<p>Or adding <code>render_with_liquid: false</code> (Requires Jekyll 4.0 or higher) to the post’s YAML block.</p>
<h2 id="learn-more" tabindex="-1">Learn More</h2>
<p>For more knowledge about Jekyll posts, visit the <a href="https://jekyllrb.com/docs/posts/">Jekyll Docs: Posts</a>.</p>

        </section>

    </section>

    <section class="p-3 px-lg-5">
        


<div class="d-flex">
    <div class="post-navigation-button text-start me-auto">
        <a class="btn btn-sm btn-outline-primary" href="/jamstack-eleventy-custom/post-sample/customize-the-favicon/" title="Customize the Favicon"><i class="fa-solid fa-chevron-left me-3 align-middle"></i>Customize the Favicon</a>
    </div>
    
    <div class="post-navigation-button text-end ms-auto">
        <a class="btn btn-sm btn-outline-primary" href="/jamstack-eleventy-custom/post-sample/text-and-typography/" title="Text and Typography">Text and Typography<i class="fa-solid fa-chevron-right ms-3 align-middle"></i></a>
    </div>
    </div>

    </section>

    <section class="p-3 px-lg-5 d-hide-if-empty">
        
    </section>
  

                </div>

                <aside class="main-aside d-none d-xl-block small col-xl-3">
                    

    <div class="sticky-container d-flex flex-column">

        
        

        
        <section class="order-1 sticky p-3">
    <div class="heading">
        <h2 class="d-inline">Similar Articles</h2>
        <a class="sticky-link"><i class="fa-solid fa-link"></i></a>
    </div>
    <div><ul class="related-posts">
    
    <li>
        
        <a href="/jamstack-eleventy-custom/post-sample/ddd-series-6-summary/">
            <span>DDD Series - 6 - Summary</span>
        </a>
    </li>
    
    <li>
        
        <a href="/jamstack-eleventy-custom/post-sample/getting-started/">
            <span>Getting Started</span>
        </a>
    </li>
    
    <li>
        
        <a href="/jamstack-eleventy-custom/post/sample-post/">
            <span>Sample post</span>
        </a>
    </li>
    
    <li>
        
        <a href="/jamstack-eleventy-custom/post-sample/how-to-get-better-at-anything-pt2/">
            <span>How-to-get-better-at-anything - pt2</span>
        </a>
    </li>
    
    <li>
        
        <a href="/jamstack-eleventy-custom/post-sample/how-to-get-better-at-anything-pt3/">
            <span>How-to-get-better-at-anything - pt3</span>
        </a>
    </li>
    
</ul></div>
</section>

        
        <section class="order-2 sticky p-3">
    <div class="heading">
        <h2 class="d-inline">Recent Posts</h2>
        <a class="sticky-link"><i class="fa-solid fa-link"></i></a>
    </div>
    <div>
<ul class="recent-posts">
    
    <li>
        <a href="/jamstack-eleventy-custom/post/sample-post/">
            <span>Sample post</span>
        </a>
    </li>
    
    <li>
        <a href="/jamstack-eleventy-custom/post-sample/how-to-get-better-at-anything-pt2/">
            <span>How-to-get-better-at-anything - pt2</span>
        </a>
    </li>
    
    <li>
        <a href="/jamstack-eleventy-custom/post-sample/how-to-get-better-at-anything-pt3/">
            <span>How-to-get-better-at-anything - pt3</span>
        </a>
    </li>
    
    <li>
        <a href="/jamstack-eleventy-custom/post-sample/how-to-get-better-at-anything/">
            <span>How-to-get-better-at-anything</span>
        </a>
    </li>
    
    <li>
        <a href="/jamstack-eleventy-custom/post-sample/mathjax-(mathematical-expressions)-and-mermaid-(graphs)/">
            <span>Mathjax (mathematical expressions) and Mermaid (graphs)</span>
        </a>
    </li>
    
</ul></div>
</section>

        
        <section class="order-3 sticky p-3">
    <div class="heading">
        <h2 class="d-inline">Tag Cloud</h2>
        <a class="sticky-link"><i class="fa-solid fa-link"></i></a>
    </div>
    <div><div class="ps-3">
 
    <span style="font-size: 0.8em;">
        <a href="/jamstack-eleventy-custom/tag/clean-code/1/">clean-code</a>
    </span>
 
    <span style="font-size: 1.0380952380952382em;">
        <a href="/jamstack-eleventy-custom/tag/ddd/1/">ddd</a>
    </span>
 
    <span style="font-size: 0.8476190476190477em;">
        <a href="/jamstack-eleventy-custom/tag/dont/1/">dont</a>
    </span>
 
    <span style="font-size: 0.8em;">
        <a href="/jamstack-eleventy-custom/tag/favicon/1/">favicon</a>
    </span>
 
    <span style="font-size: 0.8em;">
        <a href="/jamstack-eleventy-custom/tag/getting-started/1/">getting started</a>
    </span>
 
    <span style="font-size: 0.8em;">
        <a href="/jamstack-eleventy-custom/tag/google-analytics/1/">google analytics</a>
    </span>
 
    <span style="font-size: 0.8em;">
        <a href="/jamstack-eleventy-custom/tag/hr/1/">HR</a>
    </span>
 
    <span style="font-size: 1.0380952380952382em;">
        <a href="/jamstack-eleventy-custom/tag/intro/1/">intro</a>
    </span>
 
    <span style="font-size: 0.9428571428571428em;">
        <a href="/jamstack-eleventy-custom/tag/management/1/">management</a>
    </span>
 
    <span style="font-size: 0.8em;">
        <a href="/jamstack-eleventy-custom/tag/my-simple-tag/1/">my-simple-tag</a>
    </span>
 
    <span style="font-size: 0.8em;">
        <a href="/jamstack-eleventy-custom/tag/outer-middle-inner/1/">outer - middle - inner</a>
    </span>
 
    <span style="font-size: 0.8em;">
        <a href="/jamstack-eleventy-custom/tag/pageviews/1/">pageviews</a>
    </span>
 
    <span style="font-size: 1.323809523809524em;">
        <a href="/jamstack-eleventy-custom/tag/posts/1/">posts</a>
    </span>
 
    <span style="font-size: 0.8em;">
        <a href="/jamstack-eleventy-custom/tag/posts-technical-management-estimation-recap-this-is-a-single-big-tag-name!/1/">posts, technical, management, estimation, recap - this is a single big tag name!</a>
    </span>
 
    <span style="font-size: 0.8em;">
        <a href="/jamstack-eleventy-custom/tag/programming/1/">programming</a>
    </span>
 
    <span style="font-size: 0.8em;">
        <a href="/jamstack-eleventy-custom/tag/recap/1/">recap</a>
    </span>
 
    <span style="font-size: 1.8em;">
        <a href="/jamstack-eleventy-custom/tag/samples/1/">samples</a>
    </span>
 
    <span style="font-size: 0.8952380952380953em;">
        <a href="/jamstack-eleventy-custom/tag/samples-11ty-customized/1/">samples, 11ty-customized</a>
    </span>
 
    <span style="font-size: 1.0380952380952382em;">
        <a href="/jamstack-eleventy-custom/tag/series/1/">series</a>
    </span>
 
    <span style="font-size: 1.276190476190476em;">
        <a href="/jamstack-eleventy-custom/tag/technical/1/">technical</a>
    </span>
 
    <span style="font-size: 0.8em;">
        <a href="/jamstack-eleventy-custom/tag/typography/1/">typography</a>
    </span>
 
    <span style="font-size: 0.8em;">
        <a href="/jamstack-eleventy-custom/tag/writing/1/">writing</a>
    </span>

</div></div>
</section>

        
        <section class="order-last sticky p-3">
    <div class="heading">
        <h2 class="d-inline">Table of Contents</h2>
        <a class="sticky-link"><i class="fa-solid fa-link"></i></a>
    </div>
    <div><div class="text-nowrap overflow-hidden"><nav class="toc">
                <ol>
                    
                    <li><a href="#naming-and-path">Naming and Path</a>
            		</li>

                    <li><a href="#front-matter">Front Matter</a>
            
                <ol>
                    
                    <li><a href="#timezone-of-date">Timezone of Date</a>
            		</li>

                    <li><a href="#categories-and-tags">Categories and Tags</a>
            		</li>

                    <li><a href="#author-information">Author Information</a>
            		</li>
                </ol>
            		</li>

                    <li><a href="#table-of-contents">Table of Contents</a>
            		</li>

                    <li><a href="#comments">Comments</a>
            		</li>

                    <li><a href="#mathematics">Mathematics</a>
            		</li>

                    <li><a href="#mermaid">Mermaid</a>
            		</li>

                    <li><a href="#images">Images</a>
            
                <ol>
                    
                    <li><a href="#caption">Caption</a>
            		</li>

                    <li><a href="#size">Size</a>
            		</li>

                    <li><a href="#position">Position</a>
            		</li>

                    <li><a href="#shadow">Shadow</a>
            		</li>

                    <li><a href="#cdn-url">CDN URL</a>
            		</li>

                    <li><a href="#image-path">Image Path</a>
            		</li>

                    <li><a href="#preview-image">Preview Image</a>
            		</li>
                </ol>
            		</li>

                    <li><a href="#pinned-posts">Pinned Posts</a>
            		</li>

                    <li><a href="#prompts">Prompts</a>
            		</li>

                    <li><a href="#syntax">Syntax</a>
            
                <ol>
                    
                    <li><a href="#inline-code">Inline Code</a>
            		</li>

                    <li><a href="#filepath-hightlight">Filepath Hightlight</a>
            		</li>

                    <li><a href="#code-block">Code Block</a>
            
                <ol>
                    
                    <li><a href="#specifying-language">Specifying Language</a>
            		</li>

                    <li><a href="#line-number">Line Number</a>
            		</li>

                    <li><a href="#specifying-the-filename">Specifying the Filename</a>
            		</li>

                    <li><a href="#liquid-codes">Liquid Codes</a>
            		</li>
                </ol>
            		</li>
                </ol>
            		</li>

                    <li><a href="#learn-more">Learn More</a>
            		</li>
                </ol>
            </nav></div></div>
</section>

    </div>


                </aside>

                <div class="main-content-footer col-12">
                    
                </div>

            </div>

        </div>

        <div class="search-results-container container">

            <div class="row">
                
                <div class="main-content search-results-wrapper col-12 overflow-hidden">
                </div>

            </div>

        </div>

    </div>


        </main>

	    <!-- dynamic & custom scripts to alter rendered content -->
        <script>

    /* uses:
    EJS.CO for templating
    LUNR for search
    HE for HTML encoding (at highlight fnc.)
    */
   
    class Debouncer {
        _timeoutId = undefined;
        _wait = 250;
        _callback;

        constructor(callback, wait) {
            this._wait = wait ? wait : this._wait;
            this._callback = callback;
        }

        next(...args) {
            this.cancel();
            this._timeoutId = window.setTimeout(() => {
            this._callback.apply(null, args);
            }, this._wait);
        }

        cancel() {
            window.clearTimeout(this._timeoutId);
        }
    }

    const blogSearch = {

        _searchIndexPath: '/jamstack-eleventy-custom/search.json',
        _urlPrefix: '/jamstack-eleventy-custom/',
        _debounceTime: 400,

        _searchingTemplate: `
<h2>
    <i class="fa-solid fa-circle-notch fa-spin text-secondary"></i>
    <span class="text-secondary">Searching for:</span>
    <span class="text-primary"><%= searchText %></span>
</h2>
`,

        _resultTemplate_simple: `
<h2>
    <span class="text-secondary">Search results for:</span>
    <span class="text-primary"><%= searchText %></span>
</h2>

<ul class="search-results">
<% searchResults.forEach((sr, idx, arr) => { %>
    <li>
        <div class="search-result-item position-relative border shadow">
            <h5><%- sr.ref.title %></h5>
            <p class="x-text-nowrap x-text-truncate"><%- sr.ref.summary %></p>
            <a href="<%- urlPrefix %><%- sr.ref.url %>" class="stretched-link"></a>
        </div>
    </li>
<% }); %>
</ul>        
`,

        _resultTemplate: `
<h2>
    <span class="text-secondary">Search results for:</span>
    <span class="text-primary"><%= searchText %></span>
</h2>

<ul class="search-results">
<% searchResults.forEach((sr, idx, arr) => { %>
    <li>

        <div class="catalogue-item position-relative">
            
            <a class="stretched-link" href="<%- urlPrefix %><%- sr.ref.url %>"></a>
            <h3 class="catalogue-title"><%- sr.ref.title %></h3>
            <div class="catalogue-line"></div>

            <div class="catalogue-preview clearfix">
                <% if (sr.ref.image) { %>
                <img src="<%- sr.ref.image %>" class="catalogue-image img-fluid img-thumbnail"></img>
                <% } %>
                <div class="excerpt">
                    <%- sr.ref.summary %>
                </div>
            </div>

        </div>

    </li>
<% }); %>
</ul>        
`,

        _inputElements: [],
        _cancelElements: [],
        
        _updateInputs(value) {
            this._inputElements.forEach(el => el.value = value);
        },

        _setUpListeners(inputSelector, cancelSelector) {
            if (inputSelector) {
                this._inputElements = document.querySelectorAll(inputSelector);
                this._inputElements.forEach(el => el.addEventListener('keyup', evt => { if (evt.keyCode == 27) this._escapePressed(el); else this._inputValueChanged(el); } ));
            } else {
                this._inputElements = [];
            }

            if (cancelSelector) {
                this._cancelElements = document.querySelectorAll(cancelSelector);
            } else {
                this._cancelElements = [];
            }
        },

        _escapePressed(el) {
            this.clearSearch();
        },

        _inputValueChanged(el) {
            const value = el.value;
            this._updateInputs(value);
            this._debouncedSearch.next(value);
        },

        _resultContainerEls: [],
        _containersToHideEls: [],

        _setUpContainers(resultContainerSelector, containersToHideWhenResultSelector) {
            this._resultContainerEls = document.querySelectorAll(resultContainerSelector);
            this._containersToHideEls = document.querySelectorAll(containersToHideWhenResultSelector);
        },

        _showResults: false,
        _searching: false,
        _searchText: '',
        _searchResults: [],

        refreshUi() {
            const self = this;

            self._inputElements.forEach(el => el.value = self._searchText );

            const html = self._showResults
                ? self._searching
                    ? ejs.render(self._searchingTemplate, { searchText: self._searchText })
                    : ejs.render(self._resultTemplate, { urlPrefix: self._urlPrefix.replace(/\/+$/, ''), searchText: self._searchText, searchResults: self._searchResults })
                : '';

            self._resultContainerEls.forEach(el => { 
                // hide/show container
                self._showResults ? el.classList.remove("d-none") : el.classList.add("d-none")
                
                // find results element and set results
                const resultsEl = el.querySelector(".search-results-wrapper");
                if (resultsEl) {
                    resultsEl.innerHTML = self._showResults ? html : "";
                }
            });

            self._containersToHideEls.forEach(el => self._showResults ? el.classList.add("d-none") : el.classList.remove("d-none"));          
        },

        clearSearch() {
            this._showResults = false;
            this._searchText = '';
            this._searchResults = [];
            this.refreshUi();
        },

        search(text) {

            const self = this;

            console.log('searching for: ', text);
            self._searchText = text;

            if (!text) {
                self.clearSearch();
                return;
            }

            this._searchResults = [];
            self._searching = true;
            self._showResults = true;
            this.refreshUi();

            const hasSpecial = self._lunrSpecial.some(special => text.includes(special));
            const pattern =  hasSpecial 
                ? text
                : text + "*";

            console.log('lunr pattern: ', pattern);
            const localResults = self._lunrEngine.search(pattern);

            // NOTE: just for tests...
            // console.log('total result', localResults)

            // NOTE: highlighting
            localResults.forEach(localResult => {
                // NOTE: hard. ref.
                const data = self._lunrSearchData.find(i => i.url == localResult.ref);

                const highlight = {};

                for (let term in localResult.matchData.metadata) {
                    for (let field in localResult.matchData.metadata[term]) {

                        const positions = localResult.matchData.metadata[term][field].position;

                        const fieldValue = data[field];
                        let fieldReadIndex = 0;

                        highlight[field] = "";

                        for (let position of positions) {

                            if (position[0] > fieldReadIndex)
                                highlight[field] += fieldValue.substring(fieldReadIndex, position[0]);

                            highlight[field] += ("{:::" + fieldValue.substring(position[0], position[0] + position[1]) + ":::}");

                            fieldReadIndex = position[0] + position[1];

                        }

                        highlight[field] += fieldValue.substring(fieldReadIndex);             

                    }

                }

                for (let key in highlight) {
                    let value = highlight[key];

                    const encode = false;
                    let encoded = encode
                        ? he.encode(value)
                        : value;

                    let highlighted = encoded.replace(/{:::/g, '<mark>').replace(/:::}/g, '</mark>');
                    highlight[key] = highlighted;
                }

                localResult.ref = Object.assign({}, data, highlight);
            });

            self._searchResults = localResults;

            // finally
            self._searching = false;
            self.refreshUi();
        },

        _lunrSpecial: "*+-:^~".split(''),
        _lunrSearchData: undefined,
        _lunrEngine: undefined,

        init(inputSelector, cancelSelector, resultContainerSelector, containersToHideWhenResultSelector) {

            console.log('initializing search', this);

            // set up result / hide elements
            this._setUpContainers(resultContainerSelector, containersToHideWhenResultSelector);

            // refresh
            this.refreshUi();

            fetch(this._searchIndexPath).then((response) => {
                response.json().then((raw) => {

                    // set up engine, store search data
                    this._lunrSearchData = raw;

                    this._lunrEngine = lunr(function () {
                        this.ref('url')
                        this.field('title')
                        this.field('date')
                        this.field('author')
                        this.field('summary')
                        this.field('text')

                        this.metadataWhitelist = ['position']

                        raw.forEach(function (doc) { this.add(doc) }, this)
                    });

                    // set up UI listeners
                    this._debouncedSearch = new Debouncer((args) => this.search(args), this._debounceTime);
                    this._setUpListeners(inputSelector, cancelSelector);

                    // refresh
                    this.refreshUi();
                });
            });

        }

    };

    // NOTE:
    // #search-results-container must have an additional element with a .search-results class
    // these objects (along with #global-content-view) were already set up inside main.njk
    blogSearch.init('.blog-search-input', '.blog-search-cancel', '.search-results-container', '.hide-on-search-results-container-display');

</script>


        

        


        

        

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.css" integrity="sha512-LQ97camar/lOliT/MqjcQs5kWgy6Qz/cCRzzRzUCfv0fotsCTC9ZHXaPQmJV8Xu/PVALfJZ7BDezl5lW3/qBxg==" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.js" integrity="sha512-yXXqOFjdjHNH1GND+1EO0jbvvebABpzGKD66djnUfiKlYME5HGMUJHoCaeE4D5PTG2YsSJf6dwqyUUvQvS0vaA==" crossorigin="anonymous"></script>

<script>
    const scripts_config = {

        defaultCookies: function () {
            console.log('default cookies');

            // note: using anonymized IP
            if (typeof loadGA === 'function') loadGA(true);
        },

        enableCookies: function () {
            console.log('enabled cookies');

            if (typeof loadGA === 'function') loadGA(false);
            if (typeof loadDisqus === 'function') loadDisqus();
        },

        disableCookies: function () {
            console.log('disabled cookies');

            this.defaultCookies();
        },

        loadScripts: function (requireConsent, consentUrl) {
            if (requireConsent) {
                // scripts managed based on consent status
                this.initializeCookieConsent(consentUrl);
            } else {
                // all scripts enabled
                this.enableCookies();
            }
        },

        initializeCookieConsent: function (consentUrl) {

            const me = this;

            window.cookieconsent.initialise({
                "palette": {
                    "popup": {
                        "background": "#edeff5",
                        "text": "#838391"
                    },
                    "button": {
                        "background": "#4b81e8"
                    }
                },
                "position": "bottom-right",
                "type": "opt-in",
                "content": {
                    "message": "This website uses cookies to ensure you get the best experience here.",
                    "href": consentUrl
                },

                onInitialise: function (status) {
                    console.log(`cc - onInitialise, status: ${status}`);

                    var type = this.options.type;
                    var didConsent = this.hasConsented();
                    if (type == 'opt-in' && didConsent) {
                        me.enableCookies();
                    }
                    else if (type == 'opt-out' && !didConsent) {
                        me.disableCookies();
                    }
                    else {
                        me.defaultCookies();
                    }
                },

                onStatusChange: function (status, chosenBefore) {
                    console.log(`cc - onStatusChange, status: ${status}, chosenBefore: ${chosenBefore}`);

                    var type = this.options.type;
                    var didConsent = this.hasConsented();
                    if (type == 'opt-in' && didConsent) {
                        me.enableCookies();
                    }
                    if (type == 'opt-out' && !didConsent) {
                        me.disableCookies();
                    }
                },

                onRevokeChoice: function () {
                    // NOTE: this hook is called immediately after the revoke button is clicked and removes previous answers
                    console.log(`cc - onRevokeChoice`);

                    var type = this.options.type;
                    if (type == 'opt-in') {
                        me.disableCookies();

                        // NOTE: we need to reload page, so that we get rid of the loaded GA / Disqus scripts!
                        location.reload();
                    }
                    if (type == 'opt-out') {
                        me.enableCookies();
                    }
                },

                onPopupOpen: function () {
                    console.log(`cc - onPopupOpen`);
                },

                onPopupClose: function () {
                    console.log(`cc - onPopupClose`);
                }

            });

        }

    };

    const requireConsent = JSON.parse('true');
    const consentUrl = '/jamstack-eleventy-custom/cookies.html';
    
    scripts_config.loadScripts(requireConsent, consentUrl);
</script>



    </body>

    <!-- dynamic & custom scripts that need to run after the entire "final" content is rendered -->
    <script src="/jamstack-eleventy-custom/assets/js/custom/d-hide-if-empty.js"></script>
    <script src="/jamstack-eleventy-custom/assets/js/custom/sticky.js"></script>

    <!-- scripts from content pages -->
    

    <script src="/jamstack-eleventy-custom/assets/js/custom/menu-path-and-scroll-spy.js"></script>

</html>
